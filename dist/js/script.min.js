const Pagination=()=>{const e=document.querySelectorAll(".questions__part"),t=document.querySelectorAll(".pagination-desktop__circle"),n=document.querySelectorAll(".pagination-mobile__item"),o=document.querySelector(".back"),r=document.querySelector(".next"),a=document.querySelector(".showResult");let c=1;const l=(n=1)=>{c=n,function(t){e.forEach((e,n)=>{n+1===t?e.classList.remove("hidden"):e.classList.add("hidden")})}(n),function(e){11===e?a.classList.remove("button-hidden"):a.classList.add("button-hidden");1!==e?o.classList.remove("button-hidden"):o.classList.add("button-hidden");11!==e?r.classList.remove("button-hidden"):r.classList.add("button-hidden")}(n),function(e){t.forEach((t,n)=>{n+1===e?t.classList.add("checked"):t.classList.remove("checked")})}(n)};l(),t.forEach((e,t)=>e.addEventListener("click",()=>l(t+1))),n.forEach((e,t)=>e.addEventListener("click",()=>l(t+1))),o.addEventListener("click",()=>l(--c)),r.addEventListener("click",()=>l(++c))};Pagination();const showResult=()=>{document.querySelector(".showResult").addEventListener("click",()=>function(){let c=[],l=[],s=[],u=[],i=[];document.querySelectorAll(".grammar-questions").forEach((e,t)=>{let n="input[name=grammar-question"+ +(t+1)+"]";c.push(document.querySelectorAll(n))}),document.querySelectorAll(".listening-questions").forEach((e,t)=>{let n="input[name=listening-question"+ +(t+1)+"]";l.push(document.querySelectorAll(n))}),document.querySelectorAll(".reading-questions").forEach((e,t)=>{let n="input[name=reading-question"+ +(t+1)+"]";s.push(document.querySelectorAll(n))});for(let e=0;e<42;e++)i.push(document.querySelector("input[name=words"+ +(e+1)+"]"));for(let e=1;e<=12;e++)u.push(document.querySelector(".reading-select"+e));let d=[];d[0]=function(e){let t=0;return e.forEach(e=>{e.checked&&t++}),t}(i),d[1]=a(s,e),d[1]+=function(e,t){let n=0;return e.forEach((e,o)=>{e.value===t[o]&&n++}),n}(u,t),d[2]=a(l,n),d[3]=a(c,o),document.querySelector(".questions").innerHTML='<div class="result"><h4>Your level of english - <span style="color:#FFAC01;">'+function(e){let t=e.reduce((e,t,n)=>0===n?e+Math.floor(t/7):e+t,0);return t<=6?"Beginner":t<=14?"Elementary":t<=26?"Pre-intermediate":t<=32?"Intermediate":t<=40?"Upper-intermediate":"Advanced"}(d)+'</span></h4><p class="result__marks">Your total amount known words: '+72*d[0]+'</p><p class="result__marks">Reading mark: '+r(d[1],19)+'/19</p><p class="result__marks">Listening mark: '+r(d[2],6)+'/6</p><p class="result__marks">Grammar mark: '+r(d[3],15)+"/15</p></div>"}());const e=[2,2,3,3,3,3,2],t=["of","plants","a","as","up","pay","manage","for","granted","obtain","use","end up"],n=[2,2,2,2,3,2],o=[1,2,1,3,2,1,1,2,3,1,1,2,1,3,2];function r(e,t){let n;return n=e<=t/3?"red":e<=t/2?"brown":"green",'<span style="color:'+n+';">'+e+"</span>"}function a(e,t){let n=0;return e.forEach((e,o)=>{e.forEach(e=>{e.checked&&e.value==t[o]&&n++})}),n}};showResult();const audioBlock=()=>{const e=document.querySelectorAll(".audio-block__plPs"),t=document.querySelectorAll(".audio-block__time > span"),n=document.querySelectorAll(".audio-block__progress-bar"),o=document.querySelectorAll(".audio-block__pointer");let r=[];for(let e=1;e<=3;e++)r.push(new Audio("../audio/audio_"+e+".mp3"));function a(t,n){n?(e[t].classList.remove("play"),e[t].classList.add("pause")):(e[t].classList.add("play"),e[t].classList.remove("pause"))}function c(e,t){let n=Math.floor(t.screenX-document.querySelectorAll(".audio-block__container")[e].offsetLeft),o=Math.floor(r[e].duration/200*n);i(n,e),u(e,o)}function l(e){r[e].play()}function s(e){r[e].pause()}function u(e,t){r[e].currentTime=t}function i(e,t){o[t].style.left=e+"px"}r.forEach((e,n)=>{e.addEventListener("loadedmetadata",e=>{!function(e,n){let o=Math.floor(e.target.duration/60),r=Math.floor(e.target.duration%60)<=9?Math.floor(e.target.duration%60)+"0":Math.floor(e.target.duration%60);t[n].innerHTML=o+":"+r}(e,n),function(e,t){setInterval(()=>{let e=Math.ceil(200/r[t].duration*r[t].currentTime);i(e,t),e>=200&&(u(t,1),s(t),i(e,t),a(t,!1))},200)}(0,n)})}),e.forEach((t,n)=>t.addEventListener("click",()=>{var t;e[t=n].classList.contains("play")?(a(t,!0),l(t)):(s(t),a(t,!1))})),n.forEach((e,t)=>{e.addEventListener("click",e=>{c(t,e),a(t,!0),l(t)})}),o.forEach((e,t)=>{e.addEventListener("drag",e=>{c(t,e),s(t)})}),o.forEach((e,t)=>{e.addEventListener("dragend",e=>{a(t,!0),l(t),c(t,e)})})};audioBlock();